{% extends 'base.html.twig' %}

{% block header_title %}<h1>Modifier <strong>{{ user.username }}</strong></h1>{% endblock %}
{% block header_img %}{% endblock %}

{% block body %}
    <div class="row">
        {{ form_start(form, {'action' : path('user_edit', {'id' : user.id})}) }}
        {{ form_widget(form) }}

        <button type="submit" class="btn btn-success pull-right">Modifier</button>
        {{ form_end(form) }}
    </div>
    <script>
    document.addEventListener('DOMContentLoaded', function () {
        const checkbox = document.querySelector('#user_changePassword');
        const passwordFields = document.querySelectorAll('#user_password_first, #user_password_second');

        function togglePasswordFields() {
            passwordFields.forEach(field => {
                field.disabled = !checkbox.checked;
            });
        }

        checkbox.addEventListener('change', togglePasswordFields);
        togglePasswordFields();
    });
</script>
{% endblock %}

